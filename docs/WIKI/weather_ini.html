<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>weather_ini</title>
  </head>
  <body>
    <div class="markdown-body">
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <div class="markdown-heading">
        <h2 class="heading-element">Einstellungen zu den
          PV-Vorhersagediensten in <code>weather_priv.ini</code>:</h2>
      </div>
      <p><strong><font size="+2"><code>[env]</code></font><br>
          <font size="+1"> Hier folgen einige grundlegende
            Einstellungen.</font></strong><br>
        <font size="+1">ForecastCalcMethod ist die Berechnungsmethode
          für die Prognose aus den Forecastwerten.<br>
          Der mit ForecastCalcMethod berechnete Wert wird bei jeder
          Prognoseanforderung in die DB neu geschrieben,<br>
          für alle gespeicherten Werte, auch die historischen.<br>
          Gültige Werte: median | mittel | min | max<br>
          Mit einem angehängten Plus kann der Wert jeder Methode mit
          gespeicherten Produktionsdaten optimiert werden.<br>
          Gültige Werte: median+ | mittel+ | min+ | max+</font><br>
        <font size="+1"> <code>ForecastCalcMethod = median</code></font><br>
      </p>
      <p><font size="+1"><strong><font size="+2"><code>[pv.strings]</code></font><br>
            Hier kann die Anzahl der Strings für bestimmte Wetterdienste
            eingetragen werden.<br>
          </strong>Für akkudoktor und openmeteo können hier mehrere
          Strings mit anderer Ausrichtung definiert werden, <br>
          hier Anzahl eintragen, und die Daten der weiteren Strings
          analog zum 2. String eintragen (z.B.: </font><font size="+1">wp2,

          wp3)<br>
          forecast.solar kann aktuell nur 2 Strings verarbeiten.<strong><br>
          </strong><code>anzahl = 1</code></font><br>
        <font size="+1">lat und lon sind die Positionsdaten der Anlage
          bzw. des Strings. Nutze https://www.suncalc.org/ oder andere
          Tools zur Identifikation.</font><br>
        <font size="+1"><code>lat = 44.444</code><br>
          <code>lon = 11.111</code></font><br>
        <font size="+1">wp ist die Modulleistung des Strings in W</font><br>
        <font size="+1"><code>wp = 5550</code></font><br>
        <font size="+1">az ist der Azimut der Anlage, also in welche
          Himmelsrichtung die Module ausgerichtet sind.<br>
          &nbsp;-180 und 180 = Norden, -90 = Osten, 0 = Süden, 90 =
          Westen</font><br>
        <font size="+1"><code>az = 0</code></font><br>
        <font size="+1">dec ist der Winkel, in dem die Module verbaut
          sind, wobei 0 waagerecht liegen und 90 senkrecht stehend
          bedeutet</font><br>
        <font size="+1"><code>dec = 30</code></font><br>
        <font size="+1">horizon gibt mögliche Verschattungen pro String
          an, benutzt Akkudoktor und Forecast_solar mit api_key<br>
          die 12 Zahlen werden in Grad angegeben und repräsentieren im
          Uhrzeigersinn in 30 Grad Schritten, beginnen bei Nord, den
          Horizont<br>
          siehe https://doc.forecast.solar/horizon<br>
          wenn zum Beispiel im Südwesten ein großer Baum Schatten wirft:<br>
          z.B.: 0,0,0,0,0,0,0,20,45,20,0,0</font><br>
        <font size="+1"><code>horizon = 0,0,0,0,0,0,0,0,0,0,0,0</code></font><br>
        <font size="+1">wenn es einen 2. bzw. 3. String gibt, dann hier
          die Werte analog zum ersten anpassen (wp2, wp3 ....)</font><br>
        <font size="+1"><code>wp2 = 4440</code><code><br>
          </code><code>az2 = 0</code><code><br>
          </code><code>dec2 = 10</code><code><br>
          </code><code>horizon2 = 0,10,10,10,30,30,0,0,10,10,10,0</code></font><br>
        <br>
      </p>
      <p><strong><font size="+2"><code>[forecast.solar]</code></font><br>
          <font size="+1"> Hier die Werte eintragen, wenn die Prognose
            von <a href="http://www.solarprognose.de" rel="nofollow">www.solarprognose.de</a>
            geholt werden soll.<br>
          </font></strong><font size="+1"><br>
          Wenn api_key nicht 'kein' ist, wird der eingetragene Key für
          die Prognoseabfrage verwendet</font><strong><font size="+1"><br>
          </font></strong><font size="+1"><code>api_key = kein</code></font><br>
        <font size="+1">Wenn ein API key vorhanden ist, können die
          Forecasts mit aktuellen Ertragswerten des Tages (aus der DB)
          verbessert werden.<br>
          "ja" nutzt diese Funktion der API, "nein" nicht. Siehe
          https://doc.forecast.solar/actual</font><br>
        <font size="+1"> <code>forecastactual = nein</code></font><br>
        <font size="+1">Wenn "damping" eingesetzt werden soll, hier die
          entsprechenden Werte einstellen. </font><br>
        <font size="+1">0,0 bedeutet kein Damping, 0.25,0.75 bedeutet
          etwas Damping am Morgen, hohes Damping am Nachmittag.</font><br>
        <font size="+1"> beide Werte müssen zwischen 0 und 1 sein. Siehe
          <a href="https://doc.forecast.solar/damping" rel="nofollow">https://doc.forecast.solar/damping</a></font><br>
        <font size="+1"> </font><code><font size="+1">forecastdamping =
            0,0</font><br>
        </code><font size="+1">Wenn ein api_pers_plus vorhanden ist
          (api_pers_plus = ja) können zwei Ausrichtungen in einer
          Abfrage behandelt werden.</font><code><br>
          <font size="+1">api_pers_plus = nein</font></code><br>
        <font size="+1">Gewicht ermöglicht eine höhere Gewichtung des
          Wetterdienstes ( je Größer der Wert umso größer das Gewicht)</font><br>
        <font size="+1"><code>Gewicht = 1</code></font><br>
      </p>
      <p><font size="+2"><code><b>[akkudoktor]</b></code></font><br>
        <b><font size="+1">Hier die Werte eintragen, wenn die Prognose
            von <a href="https://api.akkudoktor.net/">https://api.akkudoktor.net/</a>
            geholt werden soll.</font></b><br>
        <font size="+1"><br>
          Spezifische Werte für die API von Andreas Schmitz, dem
          Akkudoktor https://www.youtube.com/@Akkudoktor<br>
          weitere Infos unter https://api.akkudoktor.net/<br>
          der Zellkoeffizient wird für die Berechnung der Verluste im
          Kontext herrschender Temperaturen genutzt</font><br>
        <font size="+1"><code>cellco = -0.4</code></font><br>
        <font size="+1">albedo ist der Reflexionsgrad des Untergrunds,
          auf dem die Zellen montiert sind. Siehe
          https://pv-navi.de/pv-navi-abc/albedo/</font><br>
        <font size="+1"><code>albedo = 0.2</code></font><br>
        <font size="+1">Gesamtleistung des Wechselrichters</font><br>
        <font size="+1"><code>powerInverter = 8000</code></font><br>
        <font size="+1">Effizienz des Wechselrichter</font><br>
        <font size="+1"><code>inverterEfficiency = 1</code></font><br>
        <font size="+1">spezifische Werte für eventuellen 2. String:</font><br>
        <font size="+1"><code>cellco2 = -0.4</code><code><br>
          </code><code>albedo2 = 0.2</code><code><br>
          </code><code>powerInverter2 = 8000</code><code><br>
          </code><code>inverterEfficiency2 = 1</code></font><br>
        <font size="+1">Gewicht ermöglicht eine höhere Gewichtung des
          Wetterdienstes ( je Größer der Wert umso größer das Gewicht)</font><br>
        <font size="+1"><code>Gewicht = 1</code></font><br>
        <br>
      </p>
      <p><strong><font size="+2"><code>[solarprognose]</code></font><br>
          <font size="+1"> Hier die Werte eintragen, wenn die Prognose
            von <a href="http://www.solarprognose.de" rel="nofollow">http://www.solarprognose.de</a>
            geholt werden soll.</font></strong><br>
        <font size="+1"> Bei solarprognose.de ist ein Account
          erforderlich.</font></p>
      <p><font size="+1">Accesstoken und Daten des Accounts.<br>
          <code> </code><code>accesstoken = xxxxxx</code></font><code><br>
        </code><font size="+1"><code>item = inverter</code><code><br>
          </code><code> </code><code>id = 1111</code><code> </code><code><br>
          </code><code>type = hourly</code></font><br>
        <font size="+1">Der Zeitversatz verschiebt die Prognose um X
          Stunden nach vor (-) oder nach hinten, eventuelle
          Zeitverschiebung.</font><br>
        <font size="+1"><code>Zeitversatz = 0</code></font><br>
        <font size="+1">Sekunden des sleep = Daten aus Account.</font><code><br>
          <font size="+1">WaitSec = 21</font></code><code><font
            size="+1"> </font></code><br>
        Mögliche Werte mosmix|own-v1|clearsky, für mosmix muss dem
        Standort eine Mosmix Station zugeordnet sein.<br>
        Karte mit Stationen: <a
          href="https://wettwarn.de/mosmix/mosmix.html" rel="nofollow">https://wettwarn.de/mosmix/mosmix.html</a><code><br>
          <font size="+1">algorithm = own-v1<br>
          </font></code><font size="+1">Falls die Anlagengröße in kWp
          nicht mit der Größe in Solarprognose übereinstimmt (z.B.
          Erweiterung)</font><br>
        <font size="+1"><code>KW_Faktor = 1.00</code><code><br>
          </code></font><font size="+1">Gewicht ermöglicht eine höhere
          Gewichtung des Wetterdienstes ( je Größer der Wert umso größer
          das Gewicht)</font><br>
        <font size="+1"><code>Gewicht = 1</code></font></p>
      <p><strong><font size="+2"><code>[solcast.com]</code></font><br>
          Hier die Werte eintragen, wenn die Prognose von <a
            href="https://api.solcast.com.au" rel="nofollow">https://api.solcast.com.au</a>
          geholt werden soll.</strong></p>
      <p><font size="+1">ApiKey und Daten des Accounts.</font><code><br>
          <font size="+1">api_key = xxxx</font></code><font size="+1"><br>
          <code>resource_id = xxxx-xxxx-xxxx-xxxx</code></font><br>
        <font size="+1"> Zeitversatz zu UTC, hier für Zeitzone
          Europe/Berlin UTC +1, Sommerzeit erfolgt&nbsp; automatisch.</font><br>
        <font size="+1"><code>Zeitzone = +1</code></font><br>
        <font size="+1"> Falls die Anlagengröße in kWp nicht mit der
          Größe in solcast.com übereinstimmt (z.B. Erweiterung)</font><br>
        <font size="+1"> <code>KW_Faktor = 1.00</code></font><br>
        <font size="+1">Werte für einen eventuellen 2. String:</font><br>
        <font size="+1"><code>resource_id2 = xxxx-xxxx-xxxx-xxxx</code></font><br>
        <font size="+1"><code>KW_Faktor2 = 1.00</code></font><br>
        <font size="+1">Gewicht ermöglicht eine höhere Gewichtung des
          Wett</font><font size="+1"><font size="+1"><font size="+1"><code><font
                  size="+2">Infos zur API siehe
                  https://open-meteo.com/en/docs<br>
                  Wenn die Prognosekurve zur Produktionskurve generell
                  verschoben ist, kann sie hiermit um X Minuten
                  verschoben werden.</font></code></font></font>erdienstes
          ( je Größer der Wert umso größer das Gewicht)</font><br>
        <font size="+1"> <font size="+1"><code>Gewicht = 1<br>
            </code></font></font></p>
      <p><strong><font size="+2"><code>[openmeteo]</code></font><br>
          Hier die Werte eintragen, wenn die Prognose von <a
            href="https://open-meteo.com">https://open-meteo.com</a>
          geholt werden soll.</strong></p>
      <font size="+1">Infos zur API siehe https://open-meteo.com/en/docs<br>
        Wenn die Prognosekurve zur Produktionskurve generell verschoben
        ist, kann sie hiermit um X Minuten verschoben werden</font><code><br>
      </code><code><font size="+1">offset_minuten = 0</font></code><code></code><font
        size="+1"><br>
      </font><font size="+1">Faktor des zusätzlichen
        Bewölkungseinflusses<br>
        0 = kein Einfluss =&gt; 1.0 starker Einfluss<br>
        <code>cloudEffect = 0</code><br>
        <br>
      </font>
      <p>hier weiter#########<br>
        <font size="+1"><font size="+1"><code><font size="+1"> <code>resource_id
                  = xxxx-xxxx-xxxx-xxxx</code></font><br>
            </code></font></font> </p>
    </div>
  </body>
</html>
